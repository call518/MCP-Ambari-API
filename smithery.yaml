## Smithery configuration for MCP Ambari API server
## Docs: https://smithery.ai/docs/config#smitheryyaml
## This file defines how Smithery (and Smithery-compatible MCP client launchers)
## can start the Ambari MCP server via stdio.

name: mcp-ambari-api
description: "MCP server exposing Apache Ambari cluster management & monitoring tools."
homepage: https://github.com/call518/MCP-Ambari-API
license: MIT
tags:
  - ambari
  - hadoop
  - cluster
  - monitoring
  - mcp

startCommand:
  type: stdio
  # User-supplied configuration schema mapped to environment variables.
  configSchema:
    type: object
    required:
      - ambariHost
      - ambariPort
      - ambariUser
      - ambariPass
      - ambariClusterName
    properties:
      ambariHost:
        type: string
        description: "Ambari server hostname or IP (e.g. host.docker.internal)"
        default: host.docker.internal
        secret: true
      ambariPort:
        type: string
        description: "Ambari server port"
        default: "8080"
        secret: true
      ambariUser:
        type: string
        description: "Ambari username"
        default: admin
        secret: true
      ambariPass:
        type: string
        description: "Ambari password"
        default: admin
        secret: true
      ambariClusterName:
        type: string
        description: "Ambari cluster name"
        default: TEST-AMBARI
        secret: true
  commandFunction: |-
    (config) => {
      // Always use the installed console script from PyPI.
      // (Smithery environment must have already run: pip install mcp-ambari-api[latest|==version])
      const env = {
        AMBARI_HOST: config.ambariHost,
        AMBARI_PORT: config.ambariPort,
        AMBARI_USER: config.ambariUser,
        AMBARI_PASS: config.ambariPass,
        AMBARI_CLUSTER_NAME: config.ambariClusterName
      };
      return { command: 'mcp-ambari-api', args: [], env };
    }
  exampleConfig:
    ambariHost: host.docker.internal
    ambariPort: "8080"
    ambariUser: admin
    ambariPass: admin
    ambariClusterName: TEST-AMBARI

## Notes:
## - Set ambariPass via Smithery secret storage if available.
## - Adjust ambariHost/Port for your environment.
## - Ensure the hosting environment installs the package: pip install mcp-ambari-api (optionally pin a version).
